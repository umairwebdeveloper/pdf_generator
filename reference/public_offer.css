 /* --- GLOBAL STYLES & CSS VARIABLES --- */
    :root {
      --font-family-sans-serif: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      --font-family-headings: 'Lexend Deca', var(--font-family-sans-serif); /* A slightly more distinct heading font */

      --primary-color: #005A9C; /* Example: A strong, professional blue */
      --secondary-color: #FFB81C; /* Example: A warm accent gold/yellow */
      --text-color: #333333;
      --text-color-muted: #666666;
      --light-gray: #f8f9fa;
      --border-color: #dee2e6;
      --border-radius: 0.5rem; /*统一圆角大小*/
      --shadow-sm: 0 .125rem .25rem rgba(0,0,0,.075);
      --shadow-md: 0 .5rem 1rem rgba(0,0,0,.15);

      --cover-overlay-color: rgba(0, 0, 0, 0.5); /* Darker overlay for better contrast */
      --cover-text-box-bg: rgba(255, 255, 255, 0.95);
    }

    body {
      font-family: var(--font-family-sans-serif);
      color: var(--text-color);
      line-height: 1.6;
      background-color: #fff; /* Default background for screen view */
    }

    h1, h2, h3, h4, h5, h6 {
      font-family: var(--font-family-headings);
      font-weight: 600;
      color: var(--primary-color);
    }

    /* --- PAGE SETUP & PRINT STYLES --- */
    @page {
      size: A4;
      margin: 0; /* Margins will be handled by individual sections or a wrapper */
    }

    .offer-page-wrapper {
        /* On screen, provide some basic centering and max-width for content pages if desired */
    }

    @media screen {
      #coverPage { display: none !important; } /* Hide cover on screen by default, assuming PDF is primary */
      body.offer-page-wrapper {
        padding: 20px; /* Add padding for screen viewing */
        background-color: #e9ecef; /* Light gray background for screen */
      }
      #productOverview, .area-block { /* Center content sections on screen */
        max-width: 850px; /* A bit wider */
        margin-left: auto;
        margin-right: auto;
        margin-bottom: 2rem; /* Space between sections on screen */
        border-radius: var(--border-radius);
        box-shadow: var(--shadow-md);
      }
    }

    @media print {
      body {
        margin: 0 !important;
        padding: 0 !important;
        background-color: #fff; /* Ensure white background for print */
        -webkit-print-color-adjust: exact; /* Ensure colors and backgrounds are printed */
        print-color-adjust: exact;
      }

      .no-print { display: none !important; }

      #coverPage {
        display: block !important; /* Ensure cover page is displayed for printing */
        page-break-after: always;
        -webkit-print-color-adjust: exact; /* Crucial for background images in Chrome */
        print-color-adjust: exact;
      }

      #productOverview {
        page-break-after: always;
      }

      .area-block { /* Each area starts on a new page */
        page-break-before: always;
        break-before: page;
      }

      .group-card { /* Try to keep group cards from splitting across pages */
        page-break-inside: avoid;
        break-inside: avoid;
      }

      /* Remove container constraints for print - these are handled by sections */
      .container, #productOverview, .area-block {
        width: 100% !important;
        max-width: 100% !important;
        margin: 0 !important;
        padding: 0 !important; /* Reset padding, section-specific padding will apply */
        box-shadow: none !important;
        border-radius: 0 !important;
      }
      /* Add padding inside sections for print margins */
      #productOverview, .area-block {
          padding: 20mm 15mm !important; /* Typical A4 content margins */
          box-sizing: border-box;
      }
    }

    /* --- COVER PAGE --- */
    #coverPage {
      display: block !important;
      page-break-after: always;
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
      background: url('{{ url_for("static", filename="uploads/" ~ company.company_bg, _external=True) }}') center/cover no-repeat !important;
      position: relative;
      min-height: 297mm; /* A4 height */
      width: 210mm; /* A4 width */

      flex-direction: column; /* Arrange items vertically */
      justify-content: flex-end; /* Push content to the bottom */
      align-items: flex-start; /* Align content to the left (can be changed) */
      padding: 30mm; /* Generous padding for content positioning */
      box-sizing: border-box;
    }

    #coverPage::before { /* Overlay */
      content: '';
      position: absolute;
      inset: 0;
      background-color: var(--cover-overlay-color);
      z-index: 1; /* Above background image, below content */
    }

    .cover-content {
      position: relative; /* To appear above the overlay */
      z-index: 2;
      background-color: var(--cover-text-box-bg);
      padding: 1.5rem 2rem;
      border-radius: var(--border-radius);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      max-width: 70%; /* Adjust as needed */
      color: #333;
    }

    .cover-header-row {
      display: flex;
      align-items: center;
      gap: 1.5rem; /* Increased gap */
      margin-bottom: 1rem;
    }

    .cover-logo {
      max-width: 100px; /* Slightly larger logo */
      height: auto;
      object-fit: contain; /* Use contain to avoid cropping */
      border-radius: 4px; /* Subtle rounding */
    }

    .cover-company-name {
      font-size: 2rem; /* More prominent */
      font-weight: 700;
      color: var(--primary-color);
    }

    .cover-offer-title {
      font-size: 2.2rem; /* Larger title */
      font-weight: 700;
      margin-bottom: 0.5rem;
      line-height: 1.2;
      color: var(--text-color);
    }

    .cover-date {
      font-size: 1rem;
      color: var(--text-color-muted);
    }

    /* --- PRODUCT OVERVIEW & GENERAL SECTION STYLING --- */
    #productOverview,
    .area-block { /* Note: padding for print is handled in @media print */
      background-color: #ffffff;
      padding: 2.5rem; /* Generous padding for screen */
      border-radius: var(--border-radius); /* For screen view */
      /* box-shadow handled in @media screen */
    }

    .offer-header {
      display: flex;
      align-items: flex-start; /* Align items to the top */
      gap: 2rem; /* More space between image and text */
      margin-bottom: 2.5rem; /* More spacing below header */
      padding-bottom: 1.5rem;
      border-bottom: 1px solid var(--border-color);
    }

    .offer-header img {
      max-width: 250px; /* Adjust as needed */
      height: auto;
      object-fit: cover;
      border-radius: var(--border-radius);
      border: 1px solid var(--border-color);
    }

    .offer-title {
      font-size: 2.25rem;
      font-weight: 700;
      margin: 0 0 0.5rem 0;
    }

    .offer-subtitle {
      font-size: 1.1rem;
      color: var(--text-color-muted);
      line-height: 1.5;
    }

    /* --- PRICE SECTION --- */
    .price-section {
      margin-top: 2rem;
      background-color: var(--light-gray); /* Subtle background */
      padding: 1.5rem 2rem;
      border-radius: var(--border-radius);
      border: 1px solid var(--border-color);
    }

    .price-section .base-price,
    .price-section .total-price {
      display: flex;
      justify-content: space-between;
      font-size: 1.15rem; /* Slightly larger */
      margin-bottom: 0.75rem;
      padding-bottom: 0.75rem;
      border-bottom: 1px solid #ddd; /* Separator */
    }
    .price-section .base-price span:first-child,
    .price-section .total-price span:first-child {
        font-weight: 500;
    }


    .price-section .total-price {
      border-bottom: none; /* No border for the last item */
      padding-top: 0.75rem;
      margin-top: 0.75rem;
      margin-bottom: 0;
    }

    .price-section .total-price strong {
      font-size: 1.5rem; /* Emphasize total price */
      color: var(--primary-color);
      font-weight: 700;
    }

    .option-line {
      display: flex;
      justify-content: space-between;
      margin: 0.4rem 0;
      font-size: 1rem;
      padding: 0.25rem 0;
    }
    .option-line span:last-child {
        font-weight: 500;
    }

    .area-price-block {
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px dashed var(--border-color); /* Dashed for sub-sections */
    }
    .area-price-block:first-of-type { /* First area price block might not need top border if base price has one */
        /* border-top: none; */ /* Optional: if you prefer less lines */
    }


    .area-price-block h4 { /* Changed from h5 for better hierarchy */
      margin: 0 0 0.5rem;
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--primary-color);
    }

    /* --- DETAILED AREAS / GROUPS / OPTIONS --- */
    .area-block { /* Additional styling already covered */
      margin-top: 0; /* Print handles spacing with page-break */
    }
    @media screen {
        .area-block {
            margin-top: 2rem; /* Spacing for screen view */
        }
    }


    .area-block .area-header {
      display: flex;
      align-items: center;
      gap: 1.5rem;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--border-color);
    }

    .area-block .area-header img {
      width: 100px; /* Slightly smaller for sub-sections */
      height: 100px;
      object-fit: cover;
      border-radius: var(--border-radius);
      border: 1px solid var(--border-color);
    }

    .area-block h3 { /* Area Title */
      margin: 0 0 0.25rem 0;
      font-size: 1.75rem;
    }
    .area-block .area-header p { /* Area Description */
        font-size: 1rem;
        color: var(--text-color-muted);
    }

    .group-card {
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius);
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      background-color: #fff; /* Ensure it's white if area-block gets a bg */
      box-shadow: var(--shadow-sm); /* Subtle shadow for cards */
      transition: box-shadow 0.3s ease;
    }
    .group-card:hover { /* Subtle hover effect for screen */
        box-shadow: var(--shadow-md);
    }

    .group-card h4 { /* Group Title */
      margin-top: 0;
      margin-bottom: 0.5rem;
      font-size: 1.3rem;
      color: var(--primary-color); /* Consistent heading color */
    }
    .group-card > p.text-muted { /* Group Description */
        margin-bottom: 1rem;
        font-size: 0.95rem;
    }

    .option-details {
      display: flex;
      gap: 1.5rem;
      align-items: flex-start;
      margin-top: 1rem;
      padding: 1rem;
      background-color: var(--light-gray);
      border-radius: calc(var(--border-radius) - 4px); /* Slightly smaller radius for inner element */
    }

    .option-details img {
      width: 80px; /* Slightly smaller option images */
      height: 80px;
      object-fit: cover;
      border-radius: 4px; /* Softer rounding */
      border: 1px solid var(--border-color);
    }

    .option-details .option-texts {
      flex: 1;
    }

    .option-details .option-name {
      font-weight: 600;
      font-size: 1.05rem;
      margin-bottom: 0.25rem;
      color: var(--text-color);
    }

    .option-details .option-desc {
      font-size: 0.9rem;
      color: var(--text-color-muted);
      line-height: 1.4;
    }

    .option-details .option-price {
      font-weight: 700;
      font-size: 1.05rem;
      color: var(--primary-color);
      white-space: nowrap;
      align-self: center; /* Vertically center price if text wraps */
    }

    /* Utility for no option selected */
    p.fst-italic.text-muted {
        padding: 1rem;
        background-color: var(--light-gray);
        border-radius: calc(var(--border-radius) - 4px);
        text-align: center;
    }
